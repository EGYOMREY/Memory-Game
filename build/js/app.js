var cards = [{
    name: "Rómulo Betancourt",
    img: "./img/J-romuloBeta.jpg",
    id: 0,
    period: "1959-1964",
    info: `
    <ul>
    <li>Electo presidente popularmente.</li> 
    <li>En abril el general Castro León intenta derrocar el gobierno pero fracasa y es encarcelado.</li>
    <li>Se crea ese mismo mes la Corporación Venezolana de Petróleo, antecedente de PDVSA.</li>
    <li>En junio durante una caravana presidencial Betancourt sufre un atentado contra su vida explotando una bomba cerca de su carro.</li>
    <li>Sufre heridas menores.</li>
    <li>En julio de 1960 AD se divide y nace el Movimiento de Izquierda Revolucionario.</li>
    <li>Nace la OPEP en septiembre.</li>
    <li>Promulgada en enero la Constitución de 1961.</li> 
    <li>Basada en la de 1947 mantiene el sufragio universal para los cargos de elección popular, periodo presidencial de cinco años y sin reelección inmediata.</li> 
    <li>Constitución más longeva de nuestra historia.</li>
      </ul>
      `
}, {
    name: "Rómulo Betancourt",
    img: "./img/F-RomuloBetancourt.jpg",
    id: 1,
    period: "1959-1964",
    info: ''
}, {
    name: "Raúl Leoni",
    img: "./img/J-Raul-Leoni.jpg",
    id: 2,
    period: "1964-1969",
    info: `
    <ul>
    <li>Electo presidente popularmente.</li>
    <li>Leoni conforma un frente de gobierno denominado de “Amplia Base” con participación de AD, URD y el Frente Nacional Democrático (partido de Uslar Pietri) en noviembre de 1964.</li>
    <li>COPEI pasa a la oposición.</li>
    <li>En 1966 el FDN sale de la alianza gubernamental y URD en 1968.. Nuevas redes viales construidas y centros educativos inaugurados.</li>
    <li>Primera etapa del Guri concluida.</li>
    <li>El PCV se replantea su estrategia y sufre escisiones que derivan en grupos guerrilleros como el FALN y el FLN.</li>
    <li>En 1966 se firma el Acuerdo de Ginebra reconociéndose la reclamación venezolana respecto al Esequibo.</li>
    <li>En mayo de 1967 guerrilleros venezolanos y militares cubanos invaden el país por Machurucuto pero son derrotados.</li>
    <li>Nueva escisión de AD en 1968 produce al Movimiento Electoral del Pueblo</li>
    </ul>`
}, {
    name: "Raúl Leoni",
    img: "./img/F-Raul-Leoni.jpg",
    id: 3,
    period: "1964-1969",
    info: ''
}, {
    name: "Rafael Caldera",
    img: "./img/J-Rafael-Caldera.jpg",
    id: 4,
    period: "1969-1974",
    info: `
    <ul>
    <li>Electo presidente popularmente.</li>
    <li>Primera vez en nuestra historia donde el partido de gobierno le entrega la presidencia a un partido de oposición.</li> 
    <li>Nueva descisión del PCV en 1971 que deriva en el partido Movimiento al Socialismo.</li> 
    <li>Estallan protestas estudiantiles en 1971, en especial en la UCV por el rechazo a la reforma de la Ley de Universidades. Gobierno la interviene.</li> 
    <li>Promulgada la Ley de Reversión Petrolera y de Nacionalización del Gas. Ampliación y modernización de las redes de telecomunicación.</li> 
    <li>Construcción de varias autopistas, conjuntos habitacionales, el Poliedro y el Hospital Miguel Pérez Carreño</li> 
    <li>Conclusión de Segunda etapa del Guri.</li> 
    <li>Promulgada enmienda constitucional de 1972 para inhabilitar políticamente a MPJ.</li> 
    <li>Impulsada política de pacificación.</li> 
    <li>Para 1973 son legalizados el PCV y el MIR con lo que muchos guerrilleros se reincorporan al juego democrático y dejan las armas.</li> 
    <li>Se consolida el bipartidismo en el sistema político venezolano</li>
    </ul>`
}, {
    name: "Rafael Caldera",
    img: "./img/F-Rafael-Caldera.jpg",
    id: 5,
    period: "1969-1974",
    info: ''
}, {
    name: "Carlos Andrés Pérez",
    img: "./img/J-Carlos-A-Perez.jpg",
    id: 6,
    period: "1964-1979",
    info: `
    <ul>
    <li>Electo presidente popularmente.</li> 
    <li>Solicita leyes habilitantes en materia de económica y financiera por un año.</li> 
    <li>En enero de 1975 se nacionaliza la industria del hierro.</li> 
    <li>En enero de 1976 se nacionaliza la industria petrolera.</li> 
    <li>Continúa la construcción de escuelas y bibliotecas.</li> 
    <li>Se aprueba la creación de nuevas universidades.</li> 
    <li>Aumenta el número de ciudades con servicio de cloacas, se construyeron nuevas carreteras en el interior, se elevó el número de viviendas construidas y se aumento la capacidad de generación eléctrica así como el suministro de agua a todo el país.</li> 
    <li>Se crea Plan de Becas Gran Mariscal de Ayacucho, se inaugura Museo Contemporáneo de Arte y el Sistema de Orquestas Infantiles y Juveniles.</li>
    </ul>`
}, {
    name: "Carlos Andrés Pérez",
    img: "./img/F-Carlos-A-Perez.jpg",
    id: 7,
    period: "1964-1979",
    info: ''
}, {
    name: "Luis Herrera Campíns",
    img: "./img/J-Luis-Campis.jpg",
    id: 8,
    period: "1979-1984",
    info: `
    <ul>
    <li>Electo presidente popularmente.</li> 
    <li>Nueva alza en los precios del petróleo desata crisis de deuda externa.</li> 
    <li>Nueva baja en los precios del petróleo en 1982.</li> 
    <li>Ante esa situación en febrero de 1983 ocurre el “viernes negro”; se devalúa el bolívar y se fija un control de cambio en el país (RECADI)</li>
    <li>El modelo económico venezolano, basado en la Industrialización por sustitución de Importaciones y específicamente en la renta petrolera como principal ingreso de la economía, empieza a mostrar signos de agotamiento.</li> 
    <li>Encuestas empiezan a señalar insatisfacción del venezolano hacia los políticos, partidos políticos y la democracia.</li> 
    <li>Inaugurado el teatro Teresa Carreño, el Museo de los Niños y la primera línea del metro de Caracas.</li> 
    <li>Nuevas universidades como la UPEL y la RMB son creadas. Se inauguran nuevas bibliotecas y 22 hospitales.</li> 
    <li>Nuevos conjuntos habitacionales son concluidos y continúa la construcción de carreteras y autopistas sobre todo en el interior</li>
    </ul>`
}, {
    name: "Luis Herrera Campíns",
    img: "./img/F-Luis-Campis.jpg",
    id: 9,
    period: "1979-1984",
    info: ''
}, {
    name: "Jaime Lusinchi",
    img: "./img/J-Jaime-Lusinchi.jpg",
    id: 10,
    period: "1984-1989",
    info: `
    <ul>
    <li>Electo presidente popularmente.</li> 
    <li>Continúa escenario de alta deuda externa combinada con bajos precios del petróleo.</li> 
    <li>Se mantienen políticas de subsidios a amplios sectores de la economía mientras las reservas internacionales van en descenso.</li> 
    <li>No obstante se impulsan políticas de asistencia social que ayudan a paliar los efectos negativos de la economía.</li> 
    <li>En diciembre de 1984 se crea la Comisión para la Reforma del Estado, que buscará soluciones a un Estado cada vez más grande e ineficiente.</li>
    <li>Gobierno entra en conflicto y hostiga a varios medios de comunicación que le son adversos.</li> 
    <li>La corrupción continúa siendo el mayor problema y se intensifica.</li> 
    <li>Nuevos museos y bibliotecas son construidos junto a varios institutos y colegios universitarios.</li> 
    <li>La represa del Guri completa su construcción con la finalización de las últimas etapas y entran a funcionar 30 hospitales nuevos.</li> 
    <li>Continúa la política de construcción de nuevas vías y autopistas así como también de viviendas</li>
    </ul>`
}, {
    name: "Jaime Lusinchi",
    img: "./img/F-Jaime-Lusinchi.jpg",
    id: 11,
    period: "1984-1989",
    info: ''
}, {
    name: "Carlos Andrés Pérez",
    img: "./img/J-Carlos-Perez.jpg",
    id: 12,
    period: "1989-1993",
    info: `
    <ul>
    <li>Electo presidente popularmente.</li> 
    <li>Contexto de bajos precios del petróleo y escasas reservas internacionales.</li> 
    <li>En febrero se establecen las coordenadas del nuevo modelo económico con el cual se busca revitalizar la economía del país y dejar atrás el esquema ISI.</li> 
    <li>El día 27 de febrero sucede el Caracazo, una revuelta popular que se extiende a otras ciudades del país.</li> 
    <li>La causa: un aumento del pasaje ilegal por parte de los transportistas.</li> 
    <li>Para el periodo 1990-1991 hay crecimiento de la economía, aumento de las reservas internacionales, pago de la deuda externa y descenso en los índices de inflación.</li> 
    <li>En febrero de 1992 Hugo Chávez y otros oficiales dan un golpe de Estado fallido.</li> 
    <li>Seguidamente en noviembre ocurre otro golpe de estado fallido esta vez realizado por Francisco Visconti Osorio.</li>
    </ul>`
}, {
    name: "Carlos Andrés Pérez",
    img: "./img/F-Carlos-Perez.jpg",
    id: 13,
    period: "1989-1993",
    info: ''
}, {
    name: "Ramón José Velasquez",
    img: "./img/J-Ramon-Velasquez.jpg",
    id: 14,
    period: "1993-1994",
    info: `
    <ul>
    <li>Congreso lo elige presidente de la república para finalizar ese periodo presidencial</li>. 
    <li>El Congreso le concede una Ley Habilitante y de ese modo en noviembre se aprueba el IVA. Impulsó la descentralización creando, entre otras medidas, el ministerio de Estado para la Descentralización.</li> 
    <li>En enero de 1994 el Banco Latino quiebra y es intervenido por el Estado.</li> 
    <li>Se genera una crisis en el sistema financiero. El sistema de partidos políticos empieza a colapsar.</li> 
    <li>Nuevas fuerzas políticas empiezan a surgir.</li>
    </ul>`
}, {
    name: "Ramón José Velasquez",
    img: "./img/F-Ramon-Velasquez.jpg",
    id: 15,
    period: "1993-1994",
    info: ''
}, {
    name: "Rafael Caldera",
    img: "./img/J-Rafael-Caldera2.jpg",
    id: 16,
    period: "1994-1999",
    info: `
    <ul>
    <li>Electo popularmente.</li> 
    <li>Entre 1994 y 1995 se agrava la crisis financiera y varios bancos son intervenidos.</li> 
    <li>Se crea el SENIAT en un contexto de precios del petróleo bajos y estables.</li> 
    <li>En 1994 Caldera sobreseyó a los militares insurrectos de 1992, dejando en libertad, entre otros a Hugo Chávez.</li> 
    <li>En lo económico se aplica la llamada Agenda Venezuela, un programa orientado hacia la apertura petrolera, la atracción de nuevas inversiones al país y control del déficit fiscal, entre otras medidas.</li> 
    <li>La anti política y la crítica a los partidos en su apogeo</li>
    <ul>`
}, {
    name: "Rafael Caldera",
    img: "./img/F-Rafael-Caldera2.jpg",
    id: 17,
    period: "1994-1999",
    info: ''
}, {
    name: "Hugo R. Chávez Frías",
    img: "./img/J-Hugo-Chavez1.jpg",
    id: 18,
    period: "1999-2002",
    info: `
    <ul>
    <li>Primer Periodo: Electo popularmente.</li> 
    <li>En abril se da un referéndum consultivo para llamar a una Asamblea Constituyente y refundar el Estado. La propuesta triunfa.</li> 
    <li>En Julio se realiza la elección para dicha Asamblea Constituyente obteniendo los miembros del MVR la casi mayoría total de curules.</li> 
    <li>En diciembre cesan las labores del antiguo Congreso Nacional.</li> 
    <li>Ese mismo mes, después del referéndum de aprobación, se promulga la Constitución de 1999</li> 
    <li>Periodo presidencial ampliado a 6 años con reelección inmediata.</li> 
    <li>Se introduce el Referéndum Revocatorio, se introducen dos nuevos poderes y se restablece el cargo de Vicepresidente, inexistente en la de 1961.</li> 
    <li>De enero a agosto de 2000 la Asamblea Nacional funciona de forma parecida a una comisión delegada con pocos diputados, que se encargarán de continuar con los asuntos legislativos del país y que llamarán popularmente como el “Congresillo” Según la nueva Constitución se llama nuevamente a elecciones generales</li>
    </ul>`
}, {
    name: "Hugo Chávez",
    img: "./img/F-Hugo-Chavez1.jpg",
    id: 19,
    period: "1999-2002",
    info: ''
}, {
    name: "Hugo R. Chávez Frías",
    img: "./img/J-Hugo-Chavez2.jpg",
    id: 20,
    period: "2002-2007",
    info: `<ul>
    <li>Segundo Periodo: Electo popularmente.</li> 
    <li>En el Congreso el oficialismo obtiene un amplio apoyo.</li> 
    <li>El presidente solicita una Ley Habilitante que le es aprobada por el Congreso para legislar en distintas materias. Esto genera fuertes críticas por parte de la oposición que se aglutina alrededor de la CTV y Fedecámaras realizando un paro general en diciembre.</li> 
    <li>Las tensiones van en aumento y en abril de 2002 la gerencia de PDVSA rechaza la injerencia del gobierno. Se inicia un paro de actividades.</li>
    <li>La CTV se suma y Chávez despide en TV a varios trabajadores de la empresa.</li> 
    <li>En los siguientes meses la OEA instala una mesa de diálogo entre gobierno y oposición que no logra grandes avances.</li> 
    <li>Se suceden marchas y pronunciamientos en contra del gobierno En diciembre de 2002 ocurre un paro petrolero acatado por otros sectores industriales</li> 
    <li>Fracasa en enero de 2003 y el gobierno logra el control de PDVSA.</li> 
    <li>Crece la polarización en el país y se registran bajos niveles de popularidad del gobierno.</li> 
    <li>En agosto de 2004 el gobierno triunfa en el referendo revocatorio activado por la oposición.</li> 
    <li>Los líderes opositores denuncian fraude y adoptan una estrategia de no concurrir a siguientes elecciones.</li> 
    <li>En consecuencia el oficialismo se hace con la mayoría de los cargos regionales como de la AN en 2005</li>
    </ul>
    `
}, {
    name: "Hugo R. Chávez Frías",
    img: "./img/F-Hugo-Chavez2.jpg",
    id: 21,
    period: "2002-2007",
    info: ''
}, {
    name: "Hugo R. Chávez Frías",
    img: "./img/J-Hugo-Chavez3.jpg",
    id: 22,
    period: "2007-2013",
    info: `
    <ul>
    <li>Tercer Periodo: Electo popularmente.</li> 
    <li>Inicia su nuevo mandato trazando el nuevo rumbo de la nación hacia el “Socialismo del siglo XXI”.</li> 
    <li>Se intensifica la política de expropiaciones y nacionalizaciones en 2007 con las compras de CANTV y la electricidad de Caracas.</li> 
    <li>Planteaba, entre otras cosas, la introducción de las comunas y la reelección inmediata y sin límites del presidente. El gobierno pierde por estrecho margen.</li> 
    <li>La inflación en el país empieza a constituirse como un problema y se registran altos índices de criminalidad.</li> 
    <li>La iniciativa privada pierde espacios frente a los entes y empresas estadales.</li> 
    <li>Aprobada popularmente la reforma a la constitución de 1999 en febrero de 2009.</li> 
    <li>Esta nueva propuesta se centró principalmente en permitir la reelección indefinida en todos los cargos de elección popular incluyendo al presidente.</li> 
    <li>Continúa la política de construcción de viviendas, se amplía las líneas de metro en Caracas y se inicia la construcción de otros metros en Valencia, Maracaibo y otras ciudades</li> 
    <li>También se construyen nuevas vías y puentes. Se crean nuevas universidades públicas como la UBV.</li> 
    <li>Creación de la Policía Nacional Bolivariana como mecanismo de lucha contra la inseguridad.</li>
    </ul>
    `
}, {
    name: "Hugo R. Chávez Frías",
    img: "./img/F-Hugo-Chavez3.jpg",
    id: 23,
    period: "2007-2013",
    info: ''
}];

//---- GLOBAL VARIABLES ----//
var memoryTable = document.querySelector(".memory-table");
var presidentInformation = document.querySelector(".president-information");
var movesCounter = document.querySelector(".moves-counter");
var userPoints = document.querySelector(".user-points");
var cardsClicked = 0;
var userMoves = 0,
    userTotalPoints = 0,
    presidentContent = '';
var totalCardsClicked = 0;
var shuffledArray = cards.slice();

//-- Variables for selected cards --//
var img, cardTwoId, cardOneId, firstCardSelected, secondCardSelected;

/**
 * @desc begins the game
 */
function init() {
    memoryTable.innerHTML = '';
    userMoves = 0;
    userTotalPoints = 0;
    presidentInformation.innerHTML = '';
    shuffle(shuffledArray);
    renderHTML(shuffledArray);
    updateUserMoves();
    updateUserPoints();
}

/**
 * @desc shuffle the memory cards
 * @param array cardArray - the array to shuffle
 * @return array - shuffled array
 */
function shuffle(cardArray) {
    var oldArrayElements = cardArray.length,
        temp,
        i;
    // While there remain elements to shuffle…
    while (oldArrayElements) {
        // Pick a remaining element…
        i = Math.floor(Math.random() * oldArrayElements--);
        // And swap it with the current element.
        temp = cardArray[oldArrayElements];
        cardArray[oldArrayElements] = cardArray[i];
        cardArray[i] = temp;
    }
    return cardArray;
}

/**
 * @desc renders the memory cards and append them to the memory board
 * @param
 * @return
 */
function renderHTML(cards) {
    for (var i = 0; i < cards.length; i++) {
        var div = document.createElement("div");
        div.className += "card-container";
        img = document.createElement("img");
        if (totalCardsClicked === cards.length) {
            img.className += "image-card";
        } else {
            img.className += "image-card disabled";
        }
        img.src = cards[i].img;
        img.alt = cards[i].name;
        img.info = cards[i].info;
        img.period = cards[i].period;
        img.id = cards[i].id;
        img.addEventListener("click", checkClickedCard);
        div.appendChild(img);
        memoryTable.appendChild(div);
    }
}

/**
 * @desc checks for matches when user clicks on memory cards
 * @param e - the clicked element
 * @return
 */
function checkClickedCard(e) {
    // Check if no card has been clicked
    if (cardsClicked < 1) {
        firstCardSelected = e.target;
        cardOneId = e.target.id;
        cardsClicked++;
        firstCardSelected.classList.toggle("disabled");
        firstCardSelected.style.pointerEvents = "none";
        userMoves++;
        updateUserMoves();
    } else if (cardsClicked === 1) {
        // Checks if there's at least 1 clicked card, so the user can click another one
        secondCardSelected = e.target;
        cardsClicked++;
        cardTwoId = e.target.id;
        secondCardSelected.classList.toggle("disabled");
        // Checks if both cards match
        if (firstCardSelected.period === secondCardSelected.period) {
            firstCardSelected.style.pointerEvents = "none";
            secondCardSelected.style.pointerEvents = "none";
            userTotalPoints += 100;
            updateUserPoints();
            if (cards[cardOneId].info) {
                presidentContent = cards[cardOneId].info;
            } else {
                presidentContent = cards[cardTwoId].info;
            }
            presidentInformation.innerHTML = '';
            presidentInformation.innerHTML = "<h3>Muy Bien!</h3><br>Presidente: " + firstCardSelected.alt + "<br>" + presidentContent;
            cardsClicked = 0;
            totalCardsClicked += 2;
            // Checks if all the cards have been correctly guessed

            if (totalCardsClicked === cards.length) {
                userWins();
            }
        } else {
            setTimeout(function () {
                firstCardSelected.classList.toggle("disabled");
                secondCardSelected.classList.toggle("disabled");
                firstCardSelected.style.pointerEvents = "auto";
                cardsClicked = 0;
            }, 700);
        }
    }
}

function updateUserMoves() {
    movesCounter.innerHTML = "Cantidad de Movimientos: " + userMoves;
}

function updateUserPoints() {
    userPoints.innerHTML = "Puntaje: " + userTotalPoints;
}

function userWins() {
    modal();
    setTimeout(function () {
        memoryTable.innerHTML = '';
        renderHTML(cards);
        totalCardsClicked = 0;
    }, 1000);
}

function modal() {
    var modal, closeModal;
    if (totalCardsClicked === cards.length) {
        modal = document.querySelector(".modal--winner");
        closeModal = document.querySelector(".close-winner");
    } else {
        modal = document.querySelector(".modal--instructions");
        closeModal = document.querySelector(".close");
    }
    modal.style.display = "block";
    closeModal.addEventListener("click", function () {
        modal.style.display = "none";
    });
    document.onkeydown = function (evt) {
        evt = evt || window.event;
        if (evt.keyCode == 27) {
            modal.style.display = "none";
        }
    };
}

init();